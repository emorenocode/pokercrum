<section>
  <h2>Cards</h2>
  <div class="card-list">
    @for (card of cards(); track $index) {
    <button
      class="card"
      [class.selected]="card === cardSelected"
      [class.disabled]="showCards()"
      (click)="onSelectCard(card)"
      title="{{ card.label }}"
    >
      <div class="card__inner">
        <div class="card__front">
          {{ card.value }}
        </div>
        <div class="card__back">ðŸ”¥</div>
      </div>
    </button>
    }
  </div>
</section>

<section class="participants">
  <h2>
    Participants @if (user.role === 'admin') { @if (showCards()) {
    <button (click)="onResetCards()">Reset</button>
    } @else {
    <button (click)="onShowCards()">Reveal</button>
    } }
  </h2>
  <div class="user-list">
    @for (participant of participants(); track $index) {
    <div class="user">
      <div class="card disabled" [class.flipped]="showCards()">
        <div class="card__inner">
          <div class="card__front">ðŸ”¥</div>
          <div class="card__back">{{ participant.card?.value }}</div>
        </div>
      </div>
      <span>{{ participant.username }}</span>
    </div>
    }
  </div>
</section>

<section>
  <h2>Result</h2>
  <div class="result-list">
    @if (showCards()) { @for (card of cardResult(); track $index) {
    <div class="result">
      <span class="result-label">{{ card.label }}</span>
      <div class="card disabled flipped">
        <div class="card__inner">
          <div class="card__front">ðŸ”¥</div>
          <div class="card__back">{{ card.value }}</div>
        </div>
      </div>
    </div>
    } }
  </div>
</section>
